<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title> E-Ticaret </title>
<style>
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f4f6f8;
    margin: 0;
    padding: 0;
    color: #222;
    transition: background-color 0.3s, color 0.3s;
  }
  body.dark-mode {
    background: #121212;
    color: #eee;
  }
  header {
    background-color: #1e1e2f;
    color: white;
    padding: 15px 30px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  body.dark-mode header {
    background-color: #222233;
  }
  header h1 {
    margin: 0;
    font-weight: 700;
  }
  nav {
    display: flex;
    gap: 15px;
  }
  nav button {
    background: transparent;
    border: none;
    color: white;
    font-size: 16px;
    cursor: pointer;
    font-weight: 600;
    padding: 8px 12px;
    border-radius: 4px;
    transition: background-color 0.3s;
  }
  nav button:hover, nav button.active {
    background-color: #4a90e2;
  }

  main {
    max-width: 1200px;
    margin: 30px auto;
    padding: 0 15px;
  }

  .products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(250px,1fr));
    gap: 25px;
  }

  .product-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgb(0 0 0 / 0.1);
    padding: 15px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: transform 0.3s ease, background-color 0.3s, color 0.3s;
    color: #222;
  }
  body.dark-mode .product-card {
    background: #1e1e2f;
    color: #ddd;
    box-shadow: 0 5px 15px rgba(0,0,0,0.6);
  }
  .product-card:hover {
    transform: translateY(-5px);
  }
  .product-img {
    width: 100%;
    height: 180px;
    object-fit: contain;
    border-radius: 8px;
    margin-bottom: 15px;
    background: #f9f9f9;
    transition: background-color 0.3s;
  }
  body.dark-mode .product-img {
    background: #2a2a3d;
  }
  .product-name {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 6px;
  }
  .product-desc {
    font-size: 14px;
    margin-bottom: 12px;
    flex-grow: 1;
  }
  .product-price {
    font-weight: 700;
    color: #007BFF;
    font-size: 17px;
    margin-bottom: 15px;
  }
  body.dark-mode .product-price {
    color: #66aaff;
  }
  .btn-add {
    padding: 10px 0;
    background-color: #007BFF;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .btn-add:hover {
    background-color: #0056b3;
  }

  /* Sepet */
  aside.cart {
    position: fixed;
    right: 0;
    top: 0;
    background: white;
    width: 350px;
    height: 100vh;
    box-shadow: -5px 0 15px rgba(0,0,0,0.15);
    padding: 20px;
    overflow-y: auto;
    transform: translateX(100%);
    transition: transform 0.3s ease, background-color 0.3s, color 0.3s;
    display: flex;
    flex-direction: column;
    z-index: 20;
    color: #222;
  }
  body.dark-mode aside.cart {
    background: #222233;
    color: #ddd;
    box-shadow: -5px 0 15px rgba(0,0,0,0.6);
  }
  aside.cart.active {
    transform: translateX(0);
  }
  aside.cart h2 {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 24px;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
  }
  body.dark-mode aside.cart h2 {
    border-color: #444466;
  }
  .cart-item {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
  }
  .cart-item img {
    width: 50px;
    height: 50px;
    object-fit: contain;
    border-radius: 6px;
    margin-right: 10px;
  }
  .cart-item-details {
    flex-grow: 1;
  }
  .cart-item-name {
    font-weight: 600;
    font-size: 15px;
    margin-bottom: 4px;
  }
  .cart-item-price {
    color: #007BFF;
    font-weight: 700;
  }
  body.dark-mode .cart-item-price {
    color: #66aaff;
  }
  .cart-item-quantity {
    margin-left: 10px;
    font-size: 14px;
    color: #444;
  }
  body.dark-mode .cart-item-quantity {
    color: #aaa;
  }
  .cart-item-remove {
    cursor: pointer;
    color: red;
    font-weight: 700;
    font-size: 18px;
    padding: 0 6px;
  }
  .cart-total {
    font-weight: 700;
    font-size: 20px;
    margin-top: auto;
    border-top: 1px solid #ddd;
    padding-top: 15px;
    color: #222;
  }
  body.dark-mode .cart-total {
    color: #ddd;
    border-color: #444466;
  }
  .cart-close-btn {
    background: none;
    border: none;
    font-size: 26px;
    cursor: pointer;
    align-self: flex-end;
    margin-bottom: 10px;
    color: inherit;
  }

  /* Sepeti aÃ§an buton */
  .cart-toggle {
    position: fixed;
    top: 20px;
    right: 80px;
    background-color: #007BFF;
    color: white;
    border: none;
    padding: 14px 18px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 700;
    z-index: 30;
    box-shadow: 0 4px 8px rgba(0,123,255,0.4);
    transition: background-color 0.3s ease;
  }
  .cart-toggle:hover {
    background-color: #0056b3;
  }

  /* KaranlÄ±k mod dÃ¼ÄŸmesi */
  .dark-mode-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    background-color: #444;
    color: white;
    border: none;
    padding: 14px 18px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 700;
    z-index: 30;
    box-shadow: 0 4px 8px rgba(0,0,0,0.4);
    transition: background-color 0.3s ease;
  }
  .dark-mode-toggle:hover {
    background-color: #666;
  }

  /* Responsive */
  @media(max-width: 768px) {
    aside.cart {
      width: 100%;
    }
    main {
      margin: 20px 15px;
    }
    .cart-toggle {
      right: 100px;
    }
    .dark-mode-toggle {
      right: 20px;
    }
  }
</style>
</head>
<body>

<header>
  <h1>Ã¶rnek E-Ticaret</h1>
</header>

<button class="cart-toggle" aria-label="Sepeti aÃ§">Sepetim ðŸ›’ (<span id="cart-count">0</span>)</button>
<button class="dark-mode-toggle" aria-label="KaranlÄ±k mod aÃ§/kapa">KaranlÄ±k Mod</button>

<main>
  <section class="products-grid" id="products-grid">
    <!-- ÃœrÃ¼nler JavaScript ile eklenecek -->
  </section>
</main>

<aside class="cart" id="cart" aria-label="AlÄ±ÅŸveriÅŸ Sepeti">
  <button class="cart-close-btn" aria-label="Sepeti kapat">&times;</button>
  <h2>AlÄ±ÅŸveriÅŸ Sepeti</h2>
  <div id="cart-items"></div>
  <div class="cart-total" id="cart-total">Toplam: 0 â‚º</div>
</aside>

<script>
  // Orijinal Ã¼rÃ¼n verisi (8 Ã¼rÃ¼n)
  const baseProducts = [
    {
      id: 1,
      name: "Mavi Spor AyakkabÄ±",
      description: "Rahat ve ÅŸÄ±k mavi spor ayakkabÄ±lar, gÃ¼nlÃ¼k kullanÄ±m iÃ§in ideal.",
      price: 250,
      image: "https://picsum.photos/id/1018/300/200"
    },
    {
      id: 2,
      name: "KadÄ±n Siyah Elbise",
      description: "Klasik kesim, zarif siyah elbise, Ã¶zel gÃ¼nler iÃ§in mÃ¼kemmel.",
      price: 400,
      image: "https://picsum.photos/id/1027/300/200"
    },
    {
      id: 3,
      name: "Bluetooth KulaklÄ±k",
      description: "YÃ¼ksek kaliteli ses, uzun pil Ã¶mrÃ¼ ile kablosuz kulaklÄ±k.",
      price: 150,
      image: "https://picsum.photos/id/1044/300/200"
    },
    {
      id: 4,
      name: "Erkek Kot Pantolon",
      description: "DayanÄ±klÄ± ve rahat erkek kot pantolonu, her mevsime uygun.",
      price: 300,
      image: "https://picsum.photos/id/1032/300/200"
    },
    {
      id: 5,
      name: "Smartwatch",
      description: "AdÄ±m sayar, nabÄ±z Ã¶lÃ§er ve bildirim Ã¶zelliÄŸi ile modern saat.",
      price: 600,
      image: "https://picsum.photos/id/1041/300/200"
    },
    {
      id: 6,
      name: "SÄ±rt Ã‡antasÄ±",
      description: "GeniÅŸ hacimli, su geÃ§irmez sÄ±rt Ã§antasÄ±, seyahat iÃ§in ideal.",
      price: 180,
      image: "https://picsum.photos/id/1050/300/200"
    },
    {
      id: 7,
      name: "Kahve Makinesi",
      description: "HÄ±zlÄ± ve pratik kahve makinesi, evde kafe lezzeti.",
      price: 850,
      image: "https://picsum.photos/id/1060/300/200"
    },
    {
      id: 8,
      name: "GÃ¼neÅŸ GÃ¶zlÃ¼ÄŸÃ¼",
      description: "UV korumalÄ±, modern tasarÄ±mlÄ± gÃ¼neÅŸ gÃ¶zlÃ¼ÄŸÃ¼.",
      price: 120,
      image: "https://picsum.photos/id/1074/300/200"
    }
  ];

  // Her orijinal Ã¼rÃ¼nden 10 tane Ã§oÄŸaltarak toplam 80 Ã¼rÃ¼n elde et
  const products = [];
  baseProducts.forEach(prod => {
    for(let i=1; i<=10; i++) {
      products.push({
        id: prod.id * 100 + i, // id: 101, 102,... vs
        name: prod.name + (i > 1 ? ` (${i})` : ""),
        description: prod.description,
        price: prod.price,
        image: prod.image
      });
    }
  });

  const productsGrid = document.getElementById('products-grid');
  const cartToggleBtn = document.querySelector('.cart-toggle');
  const darkModeToggleBtn = document.querySelector('.dark-mode-toggle');
  const cartElement = document.getElementById('cart');
  const cartItemsContainer = document.getElementById('cart-items');
  const cartTotal = document.getElementById('cart-total');
  const cartCount = document.getElementById('cart-count');

  // Sepet objesi: { Ã¼rÃ¼nID: adet }
  let cart = {};

  // ÃœrÃ¼nleri listele
  function renderProducts() {
    productsGrid.innerHTML = "";
    products.forEach(product => {
      const card = document.createElement('article');
      card.className = "product-card";
      card.innerHTML = `
        <img class="product-img" src="${product.image}" alt="${product.name}" loading="lazy" />
        <h3 class="product-name">${product.name}</h3>
        <p class="product-desc">${product.description}</p>
        <div class="product-price">${product.price.toLocaleString('tr-TR')} â‚º</div>
        <button class="btn-add" data-id="${product.id}">Sepete Ekle</button>
      `;
      productsGrid.appendChild(card);
    });
  }

  // Sepeti gÃ¼ncelle
  function renderCart() {
    cartItemsContainer.innerHTML = "";
    let total = 0;
    let totalCount = 0;
    for (const id in cart) {
      const quantity = cart[id];
      if(quantity <= 0) continue;
      const product = products.find(p => p.id == id);
      if (!product) continue;

      total += product.price * quantity;
      totalCount += quantity;

      const itemDiv = document.createElement('div');
      itemDiv.className = "cart-item";
      itemDiv.innerHTML = `
        <img src="${product.image}" alt="${product.name}" loading="lazy"/>
        <div class="cart-item-details">
          <div class="cart-item-name">${product.name}</div>
          <div class="cart-item-price">${(product.price * quantity).toLocaleString('tr-TR')} â‚º</div>
        </div>
        <div class="cart-item-quantity">x${quantity}</div>
        <button class="cart-item-remove" data-id="${id}" aria-label="ÃœrÃ¼nÃ¼ kaldÄ±r">Ã—</button>
      `;
      cartItemsContainer.appendChild(itemDiv);
    }
    cartTotal.textContent = `Toplam: ${total.toLocaleString('tr-TR')} â‚º`;
    cartCount.textContent = totalCount;
  }

  // ÃœrÃ¼n ekle
  function addToCart(id) {
    if (!cart[id]) {
      cart[id] = 0;
    }
    cart[id]++;
    renderCart();
  }

  // ÃœrÃ¼n Ã§Ä±kar
  function removeFromCart(id) {
    if (cart[id]) {
      cart[id]--;
      if(cart[id] <= 0) {
        delete cart[id];
      }
      renderCart();
    }
  }

  // KaranlÄ±k mod aÃ§/kapa
  function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    // Tercih olarak localStorage'a kaydet
    if(document.body.classList.contains('dark-mode')) {
      localStorage.setItem('dark-mode', 'enabled');
    } else {
      localStorage.setItem('dark-mode', 'disabled');
    }
  }

  // LocalStorage'dan karanlÄ±k mod durumu kontrolÃ¼
  function loadDarkModeSetting() {
    if(localStorage.getItem('dark-mode') === 'enabled') {
      document.body.classList.add('dark-mode');
    }
  }

  // Event listenerlar
  document.addEventListener('click', (e) => {
    if(e.target.classList.contains('btn-add')) {
      const id = e.target.getAttribute('data-id');
      addToCart(id);
    }
    if(e.target.classList.contains('cart-item-remove')) {
      const id = e.target.getAttribute('data-id');
      removeFromCart(id);
    }
    if(e.target === cartToggleBtn) {
      cartElement.classList.toggle('active');
    }
    if(e.target === darkModeToggleBtn) {
      toggleDarkMode();
    }
    if(e.target.classList.contains('cart-close-btn')) {
      cartElement.classList.remove('active');
    }
  });

  // Ä°lk render
  renderProducts();
  renderCart();
  loadDarkModeSetting();
</script>

</body>
</html>
